<!DOCTYPE html>
<html lang="zh-CN">

  
<head>
  <meta charset="utf-8">
  <meta name="author" content="å‘¨ç¡•, zhoushuozh@gmail.com" />
  
  
  
  <title>JavaScriptå¸¸è§åŸç”ŸDOMæ“ä½œAPIæ€»ç»“ | å‘¨ç¡•çš„åšå®¢</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="JavaScript,DOM," />
  

  <!-- <script>
    console.log('\n%c Hexo-theme-bmw v4.0 ' + '%c ğŸ‰ https://github.com/dongyuanxin/theme-bmw ğŸ‰\n' + '\n%c View demo online ' + '%c ğŸ” https://godbmw.com/ ğŸ”  \n' , 'color: #fadfa3; background: #030307; padding:3px 0;', '', 'color: #fadfa3; background: #030307; padding:3px 0;', '');
  </script> -->

  
    <meta name="description" content="ä¸ªäººåšå®¢ï¼Œå­¦ä¹ ã€è®°å½•ã€æ€»ç»“ã€‚">
  

  

  
    <link rel="icon" href="/images/favicon.ico">
    <link rel="apple-touch-icon" href="/images/touch-icon.png">
  

  <link href="https://cdn.bootcss.com/fancybox/3.5.2/jquery.fancybox.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/base.css">
<link rel="stylesheet" href="/icon/iconfont.css">
<link rel="stylesheet" href="/css/github-markdown.css">
<link rel="stylesheet" href="/css/highlight.css">

  <script src="/js/util.js"></script>
<script src="/js/valine.min.js"></script>

  

  
    <link href="https://cdn.bootcss.com/aplayer/1.10.1/APlayer.min.css" rel="stylesheet">
    <script src="https://cdn.bootcss.com/aplayer/1.10.1/APlayer.min.js" async></script>
  

  
    <link href="https://cdn.bootcss.com/social-share.js/1.0.16/css/share.min.css" rel="stylesheet">
  
  
  <script src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js" async></script>
  
  

</head>

  <body>

    

    <div id="app">

      <div class="header-wrap">
  <header>
    <div class="site-brand">
      <div class="site-title">
        <a href="/">ZhouShuo</a>
      </div>
    </div>
    <nav class="site-navigation">
      <ul class="nav-menu">
      
        <li class="nav-item" data-path="/">
          
            <a 
              href="/"
              target="_self"
            >
              ä¸»é¡µ
            </a>
          
        </li>
      
        <li class="nav-item" data-path="/archives/">
          
            <a 
              href="/archives/"
              target="_self"
            >
              å½’æ¡£
            </a>
          
        </li>
      
        <li class="nav-item" data-path="/categories/">
          
            <a 
              href="/categories/"
              target="_self"
            >
              åˆ†ç±»
            </a>
          
        </li>
      
        <li class="nav-item" data-path="/tags/">
          
            <a 
              href="/tags/"
              target="_self"
            >
              æ ‡ç­¾
            </a>
          
        </li>
      
        <li class="nav-item" data-path="/friends/">
          
            <a 
              href="/friends/"
              target="_self"
            >
              å‹é“¾
            </a>
          
        </li>
      
        <li class="nav-item" data-path="/about/">
          
            <a 
              href="/about/"
              target="_self"
            >
              å…³äº
            </a>
          
        </li>
      
      </ul>
    </nav>
    <i class="iconfont icon-menu"></i>
  </header>
</div>

<script>
  let links = document.querySelectorAll('.nav-item');
  for(let link of links){
    let childrenLink = link.querySelector('ul');
    link.addEventListener('mouseenter', () => {
      if(childrenLink) {
        childrenLink.className = "nav-menu--dropdown active";
      }
    })
    link.addEventListener('mouseleave', () => {
      if(childrenLink) {
        childrenLink.className = "nav-menu--dropdown";
      }
    })
  }
  let rootRealPath = getRealPath(window.location.pathname, true);
  for(let link of links) {
    let linkPath = link.getAttribute("data-path");
    if(linkPath && getRealPath(linkPath, true) === rootRealPath) {
      link.className = "nav-item hover";
    }
  }

  let iconMenu = document.querySelector("i.iconfont.icon-menu"),
    iconMenuClicked = false;
  let navDOM = document.querySelector("nav.site-navigation");
  iconMenu.addEventListener("click", () => {
    iconMenuClicked 
      ? navDOM.className = "site-navigation active"
      : navDOM.className = "site-navigation";
    iconMenuClicked = !iconMenuClicked;
  })
</script>

      








<div class="container post-index">

  

<div class="post">
  <h1 class="article-title">
    <span>JavaScriptå¸¸è§åŸç”ŸDOMæ“ä½œAPIæ€»ç»“</span>
  </h1>
  <div class="article-top-meta">
    <span>
      å‘å¸ƒ : 
      2018-04-05
    </span>
    
    
  </div>

  

  <div class="article-content">
    <div class="markdown-body">
      <h3 id="èŠ‚ç‚¹"><a href="#èŠ‚ç‚¹" class="headerlink" title="èŠ‚ç‚¹"></a>èŠ‚ç‚¹</h3><p>DOM çš„æœ€å°ç»„æˆå•ä½å«åšèŠ‚ç‚¹ï¼ˆnodeï¼‰ã€‚æ–‡æ¡£çš„æ ‘å½¢ç»“æ„ï¼ˆDOM æ ‘ï¼‰ï¼Œå°±æ˜¯ç”±å„ç§ä¸åŒç±»å‹çš„èŠ‚ç‚¹ç»„æˆã€‚æ¯ä¸ªèŠ‚ç‚¹å¯ä»¥çœ‹ä½œæ˜¯æ–‡æ¡£æ ‘çš„ä¸€ç‰‡å¶å­ã€‚</p>
<p>å‡ ç§å¸¸è§çš„èŠ‚ç‚¹ï¼š</p>
<ul>
<li><code>Document</code>ï¼šæ•´ä¸ªæ–‡æ¡£æ ‘çš„é¡¶å±‚èŠ‚ç‚¹</li>
<li><code>DocumentType</code>ï¼š<code>doctype</code>æ ‡ç­¾ï¼ˆæ¯”å¦‚<code>&lt;!DOCTYPE html&gt;</code>ï¼‰</li>
<li><code>Element</code>ï¼šç½‘é¡µçš„å„ç§HTMLæ ‡ç­¾ï¼ˆæ¯”å¦‚<code>&lt;body&gt;</code>ã€<code>&lt;a&gt;</code>ç­‰ï¼‰</li>
<li><code>Attribute</code>ï¼šç½‘é¡µå…ƒç´ çš„å±æ€§ï¼ˆæ¯”å¦‚<code>class=&quot;right&quot;</code>ï¼‰</li>
<li><code>Text</code>ï¼šæ ‡ç­¾ä¹‹é—´æˆ–æ ‡ç­¾åŒ…å«çš„æ–‡æœ¬</li>
<li><code>Comment</code>ï¼šæ³¨é‡Š</li>
<li><code>DocumentFragment</code>ï¼šæ–‡æ¡£çš„ç‰‡æ®µ</li>
</ul>
<p>Node å¯¹è±¡å®šä¹‰äº†å‡ ä¸ªå¸¸é‡ï¼Œå¯¹åº”è¿™äº›ç±»å‹å€¼ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.nodeType === Node.DOCUMENT_NODE <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p>
<p>Nodeæœ‰ä¸€ä¸ªå±æ€§<code>nodeType</code>è¡¨ç¤ºNodeçš„ç±»å‹ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œå…¶æ•°å€¼åˆ†åˆ«è¡¨ç¤ºç›¸åº”çš„Nodeç±»å‹ï¼Œä¸åŒèŠ‚ç‚¹çš„<code>nodeType</code>å±æ€§å€¼å’Œå¯¹åº”çš„å¸¸é‡å¦‚ä¸‹ï¼š</p>
<ul>
<li>æ–‡æ¡£èŠ‚ç‚¹ï¼ˆdocumentï¼‰ï¼š9ï¼Œå¯¹åº”å¸¸é‡<code>Node.DOCUMENT_NODE</code></li>
<li>å…ƒç´ èŠ‚ç‚¹ï¼ˆelementï¼‰ï¼š1ï¼Œå¯¹åº”å¸¸é‡<code>Node.ELEMENT_NODE</code></li>
<li>å±æ€§èŠ‚ç‚¹ï¼ˆattrï¼‰ï¼š2ï¼Œå¯¹åº”å¸¸é‡<code>Node.ATTRIBUTE_NODE</code></li>
<li>æ–‡æœ¬èŠ‚ç‚¹ï¼ˆtextï¼‰ï¼š3ï¼Œå¯¹åº”å¸¸é‡<code>Node.TEXT_NODE</code></li>
<li>æ–‡æ¡£ç‰‡æ–­èŠ‚ç‚¹ï¼ˆDocumentFragmentï¼‰ï¼š11ï¼Œå¯¹åº”å¸¸é‡<code>Node.DOCUMENT_FRAGMENT_NODE</code></li>
<li>æ–‡æ¡£ç±»å‹èŠ‚ç‚¹ï¼ˆDocumentTypeï¼‰ï¼š10ï¼Œå¯¹åº”å¸¸é‡<code>Node.DOCUMENT_TYPE_NODE</code></li>
<li>æ³¨é‡ŠèŠ‚ç‚¹ï¼ˆCommentï¼‰ï¼š8ï¼Œå¯¹åº”å¸¸é‡`Node.COMMENT_NODE</li>
</ul>
<p>ä¸Šé¢è¯´å®Œäº†DOMçš„åŸºæœ¬æ¦‚å¿µï¼Œä¸‹é¢å°†åˆ†ç±»å­¦ä¹ ä¸€ä¸‹å¸¸ç”¨çš„DOMæ“ä½œAPIã€‚</p>
<h2 id="èŠ‚ç‚¹æŸ¥è¯¢API"><a href="#èŠ‚ç‚¹æŸ¥è¯¢API" class="headerlink" title="èŠ‚ç‚¹æŸ¥è¯¢API"></a>èŠ‚ç‚¹æŸ¥è¯¢API</h2><h4 id="document-getElementById"><a href="#document-getElementById" class="headerlink" title="document.getElementById"></a>document.getElementById</h4><p>æ ¹æ®å…ƒç´ idæŸ¥æ‰¾å…ƒç´ ï¼Œå¤§å°å†™æ•æ„Ÿï¼Œè¿”å›å€¼æ˜¯Elementç±»å‹ï¼Œå¦‚æœä¸å­˜åœ¨è¯¥å…ƒç´ ï¼Œåˆ™è¿”å›nullï¼Œå¦‚æœæœ‰å¤šä¸ªç»“æœï¼Œåªè¿”å›ç¬¬ä¸€ä¸ªã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> elem = <span class="built_in">document</span>.getElementById(<span class="string">'para1'</span>);</span><br></pre></td></tr></table></figure>
<h4 id="document-getElementsByTagName"><a href="#document-getElementsByTagName" class="headerlink" title="document.getElementsByTagName"></a>document.getElementsByTagName</h4><p>æ ¹æ®æ ‡ç­¾æŸ¥æ‰¾å…ƒç´ ï¼Œ<code>*</code>è¡¨ç¤ºæŸ¥è¯¢æ‰€æœ‰æ ‡ç­¾ï¼Œè¿”å›ä¸€ä¸ª<code>HTMLCollection</code>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> paras = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'p'</span>);</span><br></pre></td></tr></table></figure>
<h4 id="document-getElementsByName"><a href="#document-getElementsByName" class="headerlink" title="document.getElementsByName"></a>document.getElementsByName</h4><p>æ ¹æ®å…ƒç´ çš„nameå±æ€§æŸ¥æ‰¾ï¼Œè¿”å›ä¸€ä¸ª<code>NodeList</code>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¡¨å•ä¸º &lt;form name="x"&gt;&lt;/form&gt;</span></span><br><span class="line"><span class="keyword">var</span> forms = <span class="built_in">document</span>.getElementsByName(<span class="string">'x'</span>);</span><br><span class="line">forms[<span class="number">0</span>].tagName <span class="comment">// "FORM"</span></span><br></pre></td></tr></table></figure>
<h4 id="document-getElementsByClassName"><a href="#document-getElementsByClassName" class="headerlink" title="document.getElementsByClassName"></a>document.getElementsByClassName</h4><p>æ ¹æ®ç±»åæŸ¥æ‰¾å…ƒç´ ï¼Œå¤šä¸ªç±»åç”¨ç©ºæ ¼åˆ†éš”ï¼Œè¿”å›ä¸€ä¸ª<code>HTMLCollection</code>ï¼Œå¦å¤–ï¼Œä¸ä»…ä»…æ˜¯documentï¼Œå…¶å®ƒå…ƒç´ ä¹Ÿæ”¯æŒ<code>getElementsByClassName</code>æ–¹æ³•.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> elements = element.getElementsByClassName(names);</span><br></pre></td></tr></table></figure>
<p>å¦‚æœè¦è·å–2ä¸ªä»¥ä¸Šclassnameï¼Œå¯ä¼ å…¥å¤šä¸ªclassnameï¼Œæ¯ä¸ªç”¨ç©ºæ ¼ç›¸éš”ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> elements = <span class="built_in">document</span>.getElementsByClassName(<span class="string">'foo bar'</span>);</span><br></pre></td></tr></table></figure>
<h4 id="document-querySelectorå’Œdocument-querySelectorAll"><a href="#document-querySelectorå’Œdocument-querySelectorAll" class="headerlink" title="document.querySelectorå’Œdocument.querySelectorAll"></a>document.querySelectorå’Œdocument.querySelectorAll</h4><p>è¿™ä¸¤ä¸ªapiå¾ˆç›¸ä¼¼ï¼Œé€šè¿‡cssé€‰æ‹©å™¨æ¥æŸ¥æ‰¾å…ƒç´ ï¼Œæ³¨æ„é€‰æ‹©å™¨è¦ç¬¦åˆ<a href="https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Getting_Started/Selectors" target="_blank" rel="noopener">CSSé€‰æ‹©å™¨</a>çš„è§„åˆ™ã€‚</p>
<p>document.querySelectorè¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…çš„å…ƒç´ ï¼Œå¦‚æœæ²¡æœ‰åŒ¹é…çš„å…ƒç´ ï¼Œåˆ™è¿”å›nullã€‚</p>
<p>è¿™ä¸ªä¾‹å­ä¸­ï¼Œä¼šè¿”å›å½“å‰æ–‡æ¡£ä¸­ç¬¬ä¸€ä¸ªç±»åä¸º â€œ<code>myclass</code>â€œ çš„å…ƒç´ ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> el = <span class="built_in">document</span>.querySelector(<span class="string">".myclass"</span>);</span><br></pre></td></tr></table></figure>
<p>document.querySelectorAllçš„ä¸åŒä¹‹å¤„åœ¨äºå®ƒè¿”å›çš„æ˜¯æ‰€æœ‰åŒ¹é…çš„å…ƒç´ ï¼Œè€Œä¸”å¯ä»¥åŒ¹é…å¤šä¸ªé€‰æ‹©ç¬¦ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­è¿”å›ä¸€ä¸ªæ–‡æ¡£ä¸­æ‰€æœ‰çš„classä¸ºâ€<code>note</code>â€œæˆ–è€… â€œ<code>alert</code>â€œçš„<code>div</code>å…ƒç´ .</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> matches = <span class="built_in">document</span>.querySelectorAll(<span class="string">"div.note, div.alert"</span>);</span><br></pre></td></tr></table></figure>
<h2 id="èŠ‚ç‚¹åˆ›å»ºAPI"><a href="#èŠ‚ç‚¹åˆ›å»ºAPI" class="headerlink" title="èŠ‚ç‚¹åˆ›å»ºAPI"></a>èŠ‚ç‚¹åˆ›å»ºAPI</h2><h4 id="createElement"><a href="#createElement" class="headerlink" title="createElement"></a>createElement</h4><p>é€šè¿‡ä¼ å…¥æŒ‡å®šçš„ä¸€ä¸ªæ ‡ç­¾åæ¥åˆ›å»ºä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœä¼ å…¥çš„æ ‡ç­¾åæ˜¯ä¸€ä¸ªæœªçŸ¥çš„ï¼Œåˆ™ä¼šåˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„æ ‡ç­¾ï¼Œæ³¨æ„ï¼šIE8ä»¥ä¸‹æµè§ˆå™¨ä¸æ”¯æŒè‡ªå®šä¹‰æ ‡ç­¾ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨<code>createElement</code>è¦æ³¨æ„ï¼šé€šè¿‡<code>createElement</code>åˆ›å»ºçš„å…ƒç´ å¹¶ä¸å±äºhtmlæ–‡æ¡£ï¼Œå®ƒåªæ˜¯åˆ›å»ºå‡ºæ¥ï¼Œå¹¶æœªæ·»åŠ åˆ°htmlæ–‡æ¡£ä¸­ï¼Œè¦è°ƒç”¨<code>appendChild</code>æˆ–<code>insertBefore</code>ç­‰æ–¹æ³•å°†å…¶æ·»åŠ åˆ°HTMLæ–‡æ¡£æ ‘ä¸­ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(div);</span><br></pre></td></tr></table></figure>
<h4 id="createTextNode"><a href="#createTextNode" class="headerlink" title="createTextNode"></a>createTextNode</h4><p>ç”¨æ¥åˆ›å»ºä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> node = <span class="built_in">document</span>.createTextNode(<span class="string">"æˆ‘æ˜¯æ–‡æœ¬èŠ‚ç‚¹"</span>);</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(node);</span><br></pre></td></tr></table></figure>
<p><code>createTextNode</code>æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°å°±æ˜¯æ–‡æœ¬èŠ‚ç‚¹ä¸­çš„æ–‡æœ¬ï¼Œå’Œ<code>createElement</code>ä¸€æ ·ï¼Œåˆ›å»ºåçš„æ–‡æœ¬èŠ‚ç‚¹ä¹Ÿåªæ˜¯ç‹¬ç«‹çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼ŒåŒæ ·éœ€è¦<code>appendChild</code>å°†å…¶æ·»åŠ åˆ°HTMLæ–‡æ¡£æ ‘ä¸­ã€‚</p>
<h4 id="cloneNode"><a href="#cloneNode" class="headerlink" title="cloneNode"></a>cloneNode</h4><p>cloneNodeæ˜¯ç”¨æ¥è¿”å›è°ƒç”¨æ–¹æ³•çš„èŠ‚ç‚¹çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªboolå‚æ•°ï¼Œç”¨æ¥è¡¨ç¤ºæ˜¯å¦é‡‡ç”¨æ·±åº¦å…‹éš†ï¼Œå¦‚æœä¸º<code>true</code>,åˆ™è¯¥èŠ‚ç‚¹çš„æ‰€æœ‰åä»£èŠ‚ç‚¹ä¹Ÿéƒ½ä¼šè¢«å…‹éš†ï¼Œå¦‚æœä¸º<code>false</code>ï¼Œåˆ™åªå…‹éš†è¯¥èŠ‚ç‚¹æœ¬èº«ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p = <span class="built_in">document</span>.getElementById(<span class="string">"para1"</span>),</span><br><span class="line"><span class="keyword">var</span> p_prime = p.cloneNode(<span class="literal">true</span>);</span><br></pre></td></tr></table></figure>
<h4 id="createDocumentFragment"><a href="#createDocumentFragment" class="headerlink" title="createDocumentFragment"></a>createDocumentFragment</h4><p>createDocumentFragmentç”¨æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºç™½çš„æ–‡æ¡£ç‰‡æ®µã€‚</p>
<p><code>DocumentFragment</code>æ˜¯ä¸€ä¸ªå­˜åœ¨äºå†…å­˜çš„ DOM ç‰‡æ®µï¼Œä¸å±äºå½“å‰æ–‡æ¡£ï¼Œå¸¸å¸¸ç”¨æ¥ç”Ÿæˆä¸€æ®µè¾ƒå¤æ‚çš„ DOM ç»“æ„ï¼Œç„¶åå†æ’å…¥å½“å‰æ–‡æ¡£ã€‚è¿™æ ·åšçš„å¥½å¤„åœ¨äºï¼Œå› ä¸º<code>DocumentFragment</code>ä¸å±äºå½“å‰æ–‡æ¡£ï¼Œå¯¹å®ƒçš„ä»»ä½•æ”¹åŠ¨ï¼Œéƒ½ä¸ä¼šå¼•å‘ç½‘é¡µçš„é‡æ–°æ¸²æŸ“ï¼Œæ¯”ç›´æ¥ä¿®æ”¹å½“å‰æ–‡æ¡£çš„ DOM æœ‰æ›´å¥½çš„æ€§èƒ½è¡¨ç°ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> docfrag = <span class="built_in">document</span>.createDocumentFragment();</span><br><span class="line"></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>].forEach(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> li = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</span><br><span class="line">  li.textContent = e;</span><br><span class="line">  docfrag.appendChild(li);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> element  = <span class="built_in">document</span>.getElementById(<span class="string">'ul'</span>);</span><br><span class="line">element.appendChild(docfrag);</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œæ–‡æ¡£ç‰‡æ–­<code>docfrag</code>åŒ…å«å››ä¸ª<code>&lt;li&gt;</code>èŠ‚ç‚¹ï¼Œè¿™äº›å­èŠ‚ç‚¹è¢«ä¸€æ¬¡æ€§æ’å…¥äº†å½“å‰æ–‡æ¡£ã€‚</p>
<h2 id="èŠ‚ç‚¹ä¿®æ”¹API"><a href="#èŠ‚ç‚¹ä¿®æ”¹API" class="headerlink" title="èŠ‚ç‚¹ä¿®æ”¹API"></a>èŠ‚ç‚¹ä¿®æ”¹API</h2><h3 id="appendChild"><a href="#appendChild" class="headerlink" title="appendChild"></a>appendChild</h3><p>appendChildæˆ‘ä»¬åœ¨å‰é¢å·²ç»ç”¨åˆ°å¤šæ¬¡ï¼Œæ¥å—ä¸€ä¸ªèŠ‚ç‚¹å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå°†å…¶ä½œä¸ºæœ€åä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œæ’å…¥å½“å‰èŠ‚ç‚¹ã€‚è¯¥æ–¹æ³•çš„è¿”å›å€¼å°±æ˜¯æ’å…¥æ–‡æ¡£çš„å­èŠ‚ç‚¹ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>);</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(p);</span><br></pre></td></tr></table></figure>
<p>å¦‚æœå‚æ•°èŠ‚ç‚¹æ˜¯ DOM å·²ç»å­˜åœ¨çš„èŠ‚ç‚¹ï¼Œ<code>appendChild</code>æ–¹æ³•ä¼šå°†å…¶ä»åŸæ¥çš„ä½ç½®ï¼Œç§»åŠ¨åˆ°æ–°ä½ç½®ã€‚</p>
<p>å¦‚æœ<code>appendChild</code>æ–¹æ³•çš„å‚æ•°æ˜¯<code>DocumentFragment</code>èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæ’å…¥çš„æ˜¯<code>DocumentFragment</code>çš„æ‰€æœ‰å­èŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯<code>DocumentFragment</code>èŠ‚ç‚¹æœ¬èº«ã€‚è¿”å›å€¼æ˜¯ä¸€ä¸ªç©ºçš„<code>DocumentFragment</code><strong>èŠ‚ç‚¹</strong>ã€‚</p>
<h3 id="insertBefore"><a href="#insertBefore" class="headerlink" title="insertBefore"></a>insertBefore</h3><p><code>insertBefore</code>æ–¹æ³•ç”¨äºå°†æŸä¸ªèŠ‚ç‚¹æ’å…¥çˆ¶èŠ‚ç‚¹å†…éƒ¨çš„æŒ‡å®šä½ç½®ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> insertedNode = parentNode.insertBefore(newNode, referenceNode);</span><br></pre></td></tr></table></figure>
<p><code>insertBefore</code>æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ‰€è¦æ’å…¥çš„èŠ‚ç‚¹<code>newNode</code>ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯çˆ¶èŠ‚ç‚¹<code>parentNode</code>å†…éƒ¨çš„ä¸€ä¸ªå­èŠ‚ç‚¹<code>referenceNode</code>ã€‚<code>newNode</code>å°†æ’åœ¨<code>referenceNode</code>è¿™ä¸ªå­èŠ‚ç‚¹çš„å‰é¢ã€‚è¿”å›å€¼æ˜¯æ’å…¥çš„æ–°èŠ‚ç‚¹<code>newNode</code>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>);</span><br><span class="line"><span class="built_in">document</span>.body.insertBefore(p, <span class="built_in">document</span>.body.firstChild);</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œæ–°å»ºä¸€ä¸ª<code>&lt;p&gt;</code>èŠ‚ç‚¹ï¼Œæ’åœ¨<code>document.body.firstChild</code>çš„å‰é¢ï¼Œä¹Ÿå°±æ˜¯æˆä¸º<code>document.body</code>çš„ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹ã€‚</p>
<p>å…³äºç¬¬äºŒä¸ªå‚æ•°å‚ç…§èŠ‚ç‚¹è¿˜æœ‰ä¸¤ä¸ªæ³¨æ„çš„åœ°æ–¹ï¼š</p>
<ol>
<li>refNodeæ˜¯å¿…ä¼ çš„ï¼Œå¦‚æœä¸ä¼ è¯¥å‚æ•°ä¼šæŠ¥é”™</li>
<li>å¦‚æœrefNodeæ˜¯undefinedæˆ–nullï¼Œåˆ™insertBeforeä¼šå°†èŠ‚ç‚¹æ·»åŠ åˆ°å­å…ƒç´ çš„æœ«å°¾</li>
</ol>
<h3 id="removeChild"><a href="#removeChild" class="headerlink" title="removeChild"></a>removeChild</h3><p>removeChildé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ä»å½“å‰èŠ‚ç‚¹ç§»é™¤è¯¥å­èŠ‚ç‚¹ã€‚è¿”å›å€¼æ˜¯ç§»é™¤çš„å­èŠ‚ç‚¹ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> deletedChild = parent.removeChild(node);</span><br></pre></td></tr></table></figure>
<p>è¢«ç§»é™¤çš„èŠ‚ç‚¹ä¾ç„¶å­˜åœ¨äºå†…å­˜ä¹‹ä¸­ï¼Œä½†ä¸å†æ˜¯ DOM çš„ä¸€éƒ¨åˆ†ã€‚æ‰€ä»¥ï¼Œä¸€ä¸ªèŠ‚ç‚¹ç§»é™¤ä»¥åï¼Œä¾ç„¶å¯ä»¥ä½¿ç”¨å®ƒï¼Œæ¯”å¦‚æ’å…¥åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹ä¸‹é¢ã€‚</p>
<p>å¦‚æœè¢«åˆ é™¤çš„èŠ‚ç‚¹ä¸æ˜¯å…¶å­èŠ‚ç‚¹ï¼Œ<code>removeChild</code>æ–¹æ³•å°†æŠ¥é”™ã€‚</p>
<h3 id="replaceChild"><a href="#replaceChild" class="headerlink" title="replaceChild"></a>replaceChild</h3><p><code>replaceChild</code>æ–¹æ³•ç”¨äºå°†ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼Œæ›¿æ¢å½“å‰èŠ‚ç‚¹çš„æŸä¸€ä¸ªå­èŠ‚ç‚¹ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> replacedNode = parentNode.replaceChild(newChild, oldChild);</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>replaceChild</code>æ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°<code>newChild</code>æ˜¯ç”¨æ¥æ›¿æ¢çš„æ–°èŠ‚ç‚¹ï¼Œç¬¬äºŒä¸ªå‚æ•°<code>oldChild</code>æ˜¯å°†è¦æ›¿æ¢èµ°çš„å­èŠ‚ç‚¹ã€‚è¿”å›å€¼æ˜¯æ›¿æ¢èµ°çš„é‚£ä¸ªèŠ‚ç‚¹<code>oldChild</code>ã€‚</p>
<h2 id="èŠ‚ç‚¹å…³ç³»API"><a href="#èŠ‚ç‚¹å…³ç³»API" class="headerlink" title="èŠ‚ç‚¹å…³ç³»API"></a>èŠ‚ç‚¹å…³ç³»API</h2><h3 id="èŠ‚ç‚¹æ ‘"><a href="#èŠ‚ç‚¹æ ‘" class="headerlink" title="èŠ‚ç‚¹æ ‘"></a>èŠ‚ç‚¹æ ‘</h3><p>ä¸€ä¸ªæ–‡æ¡£çš„æ‰€æœ‰èŠ‚ç‚¹ï¼ŒæŒ‰ç…§æ‰€åœ¨çš„å±‚çº§ï¼Œå¯ä»¥æŠ½è±¡æˆä¸€ç§æ ‘çŠ¶ç»“æ„ã€‚è¿™ç§æ ‘çŠ¶ç»“æ„å°±æ˜¯ DOM æ ‘ã€‚å®ƒæœ‰ä¸€ä¸ªé¡¶å±‚èŠ‚ç‚¹ï¼Œä¸‹ä¸€å±‚éƒ½æ˜¯é¡¶å±‚èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ï¼Œç„¶åå­èŠ‚ç‚¹åˆæœ‰è‡ªå·±çš„å­èŠ‚ç‚¹ï¼Œå°±è¿™æ ·å±‚å±‚è¡ç”Ÿå‡ºä¸€ä¸ªé‡‘å­—å¡”ç»“æ„ï¼Œå€’è¿‡æ¥å°±åƒä¸€æ£µæ ‘ã€‚</p>
<p>æµè§ˆå™¨åŸç”Ÿæä¾›<code>document</code>èŠ‚ç‚¹ï¼Œä»£è¡¨æ•´ä¸ªæ–‡æ¡£ã€‚</p>
<p>æ–‡æ¡£çš„ç¬¬ä¸€å±‚åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°±æ˜¯ HTML ç½‘é¡µçš„ç¬¬ä¸€ä¸ªæ ‡ç­¾<code>&lt;html&gt;</code>ï¼Œå®ƒæ„æˆäº†æ ‘ç»“æ„çš„æ ¹èŠ‚ç‚¹ï¼ˆroot nodeï¼‰ï¼Œå…¶ä»– HTML æ ‡ç­¾èŠ‚ç‚¹éƒ½æ˜¯å®ƒçš„ä¸‹çº§èŠ‚ç‚¹ã€‚</p>
<p>é™¤äº†æ ¹èŠ‚ç‚¹ï¼Œå…¶ä»–èŠ‚ç‚¹éƒ½æœ‰ä¸‰ç§å±‚çº§å…³ç³»ã€‚</p>
<ul>
<li>çˆ¶èŠ‚ç‚¹å…³ç³»ï¼ˆparentNodeï¼‰ï¼šç›´æ¥çš„é‚£ä¸ªä¸Šçº§èŠ‚ç‚¹</li>
<li>å­èŠ‚ç‚¹å…³ç³»ï¼ˆchildNodesï¼‰ï¼šç›´æ¥çš„ä¸‹çº§èŠ‚ç‚¹</li>
<li>åŒçº§èŠ‚ç‚¹å…³ç³»ï¼ˆsiblingï¼‰ï¼šæ‹¥æœ‰åŒä¸€ä¸ªçˆ¶èŠ‚ç‚¹çš„èŠ‚ç‚¹</li>
</ul>
<p>DOM æä¾›æ“ä½œæ¥å£ï¼Œç”¨æ¥è·å–è¿™ä¸‰ç§å…³ç³»çš„èŠ‚ç‚¹ã€‚</p>
<h4 id="çˆ¶å…³ç³»API"><a href="#çˆ¶å…³ç³»API" class="headerlink" title="çˆ¶å…³ç³»API"></a>çˆ¶å…³ç³»API</h4><ul>
<li><code>parentNode</code>ï¼šæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªparentNodeå±æ€§ï¼Œå®ƒè¡¨ç¤ºå…ƒç´ çš„çˆ¶èŠ‚ç‚¹ã€‚Elementçš„çˆ¶èŠ‚ç‚¹å¯èƒ½æ˜¯Elementï¼ŒDocumentæˆ–DocumentFragmentã€‚</li>
<li><code>parentElement</code>ï¼šè¿”å›å…ƒç´ çš„çˆ¶å…ƒç´ èŠ‚ç‚¹ï¼Œä¸parentNodeçš„åŒºåˆ«åœ¨äºï¼Œå…¶çˆ¶èŠ‚ç‚¹å¿…é¡»æ˜¯ä¸€ä¸ªElementå…ƒç´ ï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™è¿”å›nullï¼›</li>
</ul>
<h4 id="å­å…³ç³»API"><a href="#å­å…³ç³»API" class="headerlink" title="å­å…³ç³»API"></a>å­å…³ç³»API</h4><ul>
<li><code>children</code>ï¼šè¿”å›ä¸€ä¸ªå®æ—¶çš„<code>HTMLCollection</code>ï¼Œå­èŠ‚ç‚¹éƒ½æ˜¯Elementï¼ŒIE9ä»¥ä¸‹æµè§ˆå™¨ä¸æ”¯æŒï¼›</li>
<li><code>childNodes</code>ï¼šè¿”å›ä¸€ä¸ªå®æ—¶çš„<code>NodeList</code>ï¼Œè¡¨ç¤ºå…ƒç´ çš„å­èŠ‚ç‚¹åˆ—è¡¨ï¼Œæ³¨æ„å­èŠ‚ç‚¹å¯èƒ½åŒ…å«æ–‡æœ¬èŠ‚ç‚¹ã€æ³¨é‡ŠèŠ‚ç‚¹ç­‰ï¼›</li>
<li><code>firstChild</code>ï¼šè¿”å›ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œä¸å­˜åœ¨è¿”å›nullï¼Œä¸ä¹‹ç›¸å¯¹åº”çš„è¿˜æœ‰ä¸€ä¸ª<code>firstElementChild</code>ï¼›</li>
<li><code>lastChild</code>ï¼šè¿”å›æœ€åä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œä¸å­˜åœ¨è¿”å›nullï¼Œä¸ä¹‹ç›¸å¯¹åº”çš„è¿˜æœ‰ä¸€ä¸ª<code>lastElementChild</code>ï¼›</li>
</ul>
<h4 id="å…„å¼Ÿå…³ç³»å‹API"><a href="#å…„å¼Ÿå…³ç³»å‹API" class="headerlink" title="å…„å¼Ÿå…³ç³»å‹API"></a>å…„å¼Ÿå…³ç³»å‹API</h4><ul>
<li><code>previousSibling</code>ï¼šèŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å›nullã€‚æ³¨æ„æœ‰å¯èƒ½æ‹¿åˆ°çš„èŠ‚ç‚¹æ˜¯æ–‡æœ¬èŠ‚ç‚¹æˆ–æ³¨é‡ŠèŠ‚ç‚¹ï¼Œä¸é¢„æœŸçš„ä¸ç¬¦ï¼Œè¦è¿›è¡Œå¤„ç†ä¸€ä¸‹ã€‚</li>
<li><code>nextSibling</code>ï¼šèŠ‚ç‚¹çš„åä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å›nullã€‚æ³¨æ„æœ‰å¯èƒ½æ‹¿åˆ°çš„èŠ‚ç‚¹æ˜¯æ–‡æœ¬èŠ‚ç‚¹ï¼Œä¸é¢„æœŸçš„ä¸ç¬¦ï¼Œè¦è¿›è¡Œå¤„ç†ä¸€ä¸‹ã€‚</li>
<li><code>previousElementSibling</code>ï¼šè¿”å›å‰ä¸€ä¸ªå…ƒç´ èŠ‚ç‚¹ï¼Œå‰ä¸€ä¸ªèŠ‚ç‚¹å¿…é¡»æ˜¯Elementï¼Œæ³¨æ„IE9ä»¥ä¸‹æµè§ˆå™¨ä¸æ”¯æŒã€‚</li>
<li><code>nextElementSibling</code>ï¼šè¿”å›åä¸€ä¸ªå…ƒç´ èŠ‚ç‚¹ï¼Œåä¸€ä¸ªèŠ‚ç‚¹å¿…é¡»æ˜¯Elementï¼Œæ³¨æ„IE9ä»¥ä¸‹æµè§ˆå™¨ä¸æ”¯æŒã€‚</li>
</ul>
<h2 id="å…ƒç´ å±æ€§API"><a href="#å…ƒç´ å±æ€§API" class="headerlink" title="å…ƒç´ å±æ€§API"></a>å…ƒç´ å±æ€§API</h2><h4 id="getAttribute"><a href="#getAttribute" class="headerlink" title="getAttribute"></a>getAttribute</h4><p><code>Element.getAttribute</code>æ–¹æ³•æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œè¿”å›åŒåå±æ€§çš„å€¼ã€‚å¦‚æœæ²¡æœ‰è¯¥å±æ€§ï¼Œåˆ™è¿”å›<code>null</code>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mydiv = <span class="built_in">document</span>.getElementById(<span class="string">'mydiv'</span>);</span><br><span class="line"><span class="keyword">var</span> id = mydiv.getAttribute(<span class="string">'id'</span>);</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç è¯»å–<code>mydiv</code>çš„<code>id</code>çš„å€¼ã€‚</p>
<h4 id="setAttribute"><a href="#setAttribute" class="headerlink" title="setAttribute"></a>setAttribute</h4><p><code>Element.setAttribute</code>æ–¹æ³•ç”¨äºä¸ºå½“å‰èŠ‚ç‚¹è®¾ç½®å±æ€§ã€‚å¦‚æœå±æ€§å·²ç»å­˜åœ¨ï¼Œå°†æ›´æ–°å±æ€§å€¼ï¼Œå¦åˆ™å°†æ·»åŠ è¯¥å±æ€§ã€‚è¯¥æ–¹æ³•æ²¡æœ‰è¿”å›å€¼ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b = <span class="built_in">document</span>.querySelector(<span class="string">'button'</span>);</span><br><span class="line">b.setAttribute(<span class="string">'name'</span>, <span class="string">'myButton'</span>);</span><br><span class="line">b.setAttribute(<span class="string">'disabled'</span>, <span class="literal">true</span>);</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>button</code>å…ƒç´ çš„<code>name</code>å±æ€§è¢«è®¾æˆ<code>myButton</code>ï¼Œ<code>disabled</code>å±æ€§è¢«è®¾æˆ<code>true</code>ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸¤ä¸ªåœ°æ–¹éœ€è¦æ³¨æ„ï¼Œé¦–å…ˆï¼Œå±æ€§å€¼æ€»æ˜¯å­—ç¬¦ä¸²ï¼Œå…¶ä»–ç±»å‹çš„å€¼ä¼šè‡ªåŠ¨è½¬æˆå­—ç¬¦ä¸²ï¼Œæ¯”å¦‚å¸ƒå°”å€¼<code>true</code>å°±ä¼šå˜æˆå­—ç¬¦ä¸²<code>true</code>ï¼›å…¶æ¬¡ï¼Œä¸Šä¾‹çš„<code>disable</code>å±æ€§æ˜¯ä¸€ä¸ªå¸ƒå°”å±æ€§ï¼Œå¯¹äº<code>&lt;button&gt;</code>å…ƒç´ æ¥è¯´ï¼Œè¿™ä¸ªå±æ€§ä¸éœ€è¦å±æ€§å€¼ï¼Œåªè¦è®¾ç½®äº†å°±æ€»æ˜¯ä¼šç”Ÿæ•ˆï¼Œå› æ­¤<code>setAttribute</code>æ–¹æ³•é‡Œé¢å¯ä»¥å°†<code>disabled</code>å±æ€§è®¾æˆä»»æ„å€¼ã€‚</p>
<h4 id="removeAttribute"><a href="#removeAttribute" class="headerlink" title="removeAttribute"></a>removeAttribute</h4><p><code>Element.removeAttribute</code>æ–¹æ³•ç§»é™¤æŒ‡å®šå±æ€§ã€‚è¯¥æ–¹æ³•æ²¡æœ‰è¿”å›å€¼ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'div1'</span>).removeAttribute(<span class="string">'id'</span>)</span><br></pre></td></tr></table></figure>
<h2 id="å…ƒç´ æ ·å¼API"><a href="#å…ƒç´ æ ·å¼API" class="headerlink" title="å…ƒç´ æ ·å¼API"></a>å…ƒç´ æ ·å¼API</h2><h4 id="ç›´æ¥ä¿®æ”¹å…ƒç´ çš„æ ·å¼"><a href="#ç›´æ¥ä¿®æ”¹å…ƒç´ çš„æ ·å¼" class="headerlink" title="ç›´æ¥ä¿®æ”¹å…ƒç´ çš„æ ·å¼"></a>ç›´æ¥ä¿®æ”¹å…ƒç´ çš„æ ·å¼</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">elem.style.color = <span class="string">'red'</span>;</span><br><span class="line">elem.style.setProperty(<span class="string">'font-size'</span>, <span class="string">'16px'</span>);</span><br><span class="line">elem.style.removeProperty(<span class="string">'color'</span>);</span><br></pre></td></tr></table></figure>
<h4 id="window-getComputedStyle"><a href="#window-getComputedStyle" class="headerlink" title="window.getComputedStyle"></a>window.getComputedStyle</h4><p><code>window.getComputedStyle</code>æ–¹æ³•ï¼Œå°±ç”¨æ¥è¿”å›æµè§ˆå™¨è®¡ç®—åå¾—åˆ°çš„æœ€ç»ˆè§„åˆ™ã€‚å®ƒæ¥å—ä¸€ä¸ªèŠ‚ç‚¹å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ª CSSStyleDeclaration å®ä¾‹ï¼ŒåŒ…å«äº†æŒ‡å®šèŠ‚ç‚¹çš„æœ€ç»ˆæ ·å¼ä¿¡æ¯ã€‚æ‰€è°“â€œæœ€ç»ˆæ ·å¼ä¿¡æ¯â€ï¼ŒæŒ‡çš„æ˜¯å„ç§ CSS è§„åˆ™å åŠ åçš„ç»“æœã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = <span class="built_in">document</span>.querySelector(<span class="string">'div'</span>);</span><br><span class="line"><span class="keyword">var</span> styleObj = <span class="built_in">window</span>.getComputedStyle(div);</span><br><span class="line">styleObj.backgroundColor</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œå¾—åˆ°çš„èƒŒæ™¯è‰²å°±æ˜¯<code>div</code>å…ƒç´ çœŸæ­£çš„èƒŒæ™¯è‰²ã€‚</p>
<h4 id="getBoundingClientRect"><a href="#getBoundingClientRect" class="headerlink" title="getBoundingClientRect"></a>getBoundingClientRect</h4><p><code>getBoundingClientRect</code>ç”¨æ¥è¿”å›å…ƒç´ çš„å¤§å°ä»¥åŠç›¸å¯¹äºæµè§ˆå™¨å¯è§†çª—å£çš„ä½ç½®ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> clientRect = element.getBoundingClientRect();</span><br></pre></td></tr></table></figure>
<p>clientRectæ˜¯ä¸€ä¸ª<code>DOMRect</code>å¯¹è±¡ï¼ŒåŒ…å«widthã€heightã€leftã€topã€rightã€bottomï¼Œå®ƒæ˜¯ç›¸å¯¹äºçª—å£é¡¶éƒ¨è€Œä¸æ˜¯æ–‡æ¡£é¡¶éƒ¨ï¼Œæ»šåŠ¨é¡µé¢æ—¶å®ƒä»¬çš„å€¼æ˜¯ä¼šå‘ç”Ÿå˜åŒ–çš„ã€‚</p>
<h2 id="å‚è€ƒå†…å®¹"><a href="#å‚è€ƒå†…å®¹" class="headerlink" title="å‚è€ƒå†…å®¹"></a>å‚è€ƒå†…å®¹</h2><ul>
<li><a href="http://luopq.com/2015/11/30/javascript-dom/" target="_blank" rel="noopener">ç‹¼ç‹¼çš„è“èƒ–å­</a></li>
<li><a href="http://javascript.ruanyifeng.com/dom/node.html" target="_blank" rel="noopener">DOMæ¨¡å‹ - é˜®ä¸€å³°JavaScript</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document_Object_Model#HTML_%E6%8E%A5%E5%8F%A3" target="_blank" rel="noopener">æ–‡æ¡£å¯¹è±¡æ¨¡å‹(DOM) - MDN</a></li>
</ul>
    </div>
  </div>
  
    <div class="copy-right">
      <div class="markdown-body">
        <blockquote>
        
        
          æœ¬æ–‡ä½œè€… : å‘¨ç¡• <br/>
        
        åŸæ–‡é“¾æ¥ : <a href="">https://blog.zhoushuo.me/2018/04/05/dom-api/</a><br>
        ç‰ˆæƒå£°æ˜ : æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
        </blockquote>
      </div>
    </div>
  
  
  
    <div class="social-share"
  style="margin-top: -2rem"
  data-wechat-qrcode-title="<p>å¾®ä¿¡æ‰«ä¸€æ‰«</p>"
  data-wechat-qrcode-helper="<p>å¾®ä¿¡å³ä¸Šè§’, æ‰«ä¸€æ‰«åˆ†äº«</p>"
   data-sites="qq, weibo, wechat, douban, facebook, twitter" 
  
>
  <span style="color: #6b7487; font-size: 1.4rem;">åˆ†äº«åˆ°: </span>
</div>
<script src="https://cdn.bootcss.com/social-share.js/1.0.16/js/social-share.min.js" async></script>
  

  

  <div class="article-footer">
    <div class="article-meta pull-left">
      <span>
        
          <i class="iconfont icon-06tags"></i>æ ‡ç­¾: 
          
          <span class="span--tag">
            <a href="/tags/JavaScript/">
              #JavaScript
            </a>
          </span>
          
          <span class="span--tag">
            <a href="/tags/DOM/">
              #DOM
            </a>
          </span>
          
        
      </span>
    </div>
    <div class="article-meta pull-right">
    </div>
  </div>
</div>


  <aside id="sidebar">
    <p id="sidebar-header"></p>
    <ol id="sidebar-toc"></ol>
  </aside>
  <script async>setTimeout(generateToc, 10);</script>


  <nav class="post-navigation">
    
      <div class="nav-pre">
        <i class="iconfont icon-prev"></i>
        ä¸Šä¸€ç¯‡:
        <a href="/2018/03/22/hexo-gitalk/" target="_self">ä¸ºåšå®¢æ·»åŠ Gitalkè¯„è®ºæ’ä»¶</a>
      </div>
    
    
      <div class="nav-next">
        ä¸‹ä¸€ç¯‡:
        <a href="/2018/04/21/jquery-api/" target="_self">ç®€å•å®ç° jQuery ä¸­çš„å‡ ä¸ª API</a>
        <i class="iconfont icon-next"></i>
      </div>
    
  </nav>

   

  
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<a href="#comment" class="comment-anchor"></a>
<div id="gitalk-container" style="margin-bottom: 50px"></div>
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<script type="text/javascript">
  var gitalk = new Gitalk({
    clientID: 'd50f82d1de5ab2dd34c6',
    clientSecret: '7ed79e0b3ad122582d5c8d7d5a295c1142743477',
    id: window.location.pathname,
    repo: 'comments',
    owner: 'zhoushuozh',
    admin: 'zhoushuozh'
  })
  gitalk.render('gitalk-container')
</script>

  

   

</div>


      <footer>
  <p class="site-info">
    åšå®¢å·²è¿è¡Œ<span id="time-to-now"></span>
    <!-- <span class="my-face">(â—'â—¡'â—)ï¾‰â™¥</span> -->
    <br>
    &copy; 2019 - å‘¨ç¡•
    <br>
    Powered by <a href="https://hexo.io">Hexo</a> | Theme - <a href="https://github.com/dongyuanxin/theme-bmw">BMW</a>
    <br>
    
  </p>
</footer>



<script>
const timeToNowDOM = document.querySelector("#time-to-now");
const startTimestamp = new Date(2017, 9, 13).getTime();

const updateTimeStr = () => {
  let offset = parseInt(
      (new Date().getTime() - startTimestamp) / 1000,
      10
    ),
    day = Math.floor(offset / 86400),
    hour = Math.floor((offset % 86400) / 3600),
    minute = Math.floor(((offset % 86400) % 3600) / 60),
    second = Math.floor(((offset % 86400) % 3600) % 60);
  timeToNowDOM.innerHTML =
    day + "å¤©" + hour + "å°æ—¶" + minute + "åˆ†é’Ÿ" + second + "ç§’";
  setTimeout(updateTimeStr, 500);
}

setTimeout(updateTimeStr, 500);
</script>


      <div class="back-to-top hidden">
  <span>
    <i class="iconfont icon-60"></i><span></span>%
  </span>
</div>

<script>
const updateIconToTop = percent => {
  let dom = document.querySelector(".back-to-top span span");
  dom.innerText = percent;
  if(percent < 1) {
    document.querySelector(".back-to-top").className = "back-to-top hidden";
  } else {
    document.querySelector(".back-to-top").className = "back-to-top";
  }
}

const handleScoll = () => {
  let isRunning = false;
  return () => {
    if (isRunning) return;
    isRunning = true;
    window.requestAnimationFrame(timestamp => {
      let scrollTop =
          document.documentElement.scrollTop || document.body.scrollTop,
        scrollHeight =
          document.documentElement.scrollHeight ||
          document.body.scrollHeight,
        clientHeight =
          document.documentElement.clientHeight ||
          document.body.clientHeight;
      isRunning = false;
      if (scrollTop <= 1) {
        updateIconToTop(0);
        return;
      }
      if (scrollTop + clientHeight >= scrollHeight) {
        updateIconToTop(100);
      } else {
        updateIconToTop(parseInt(
          100 * scrollTop / (scrollHeight - clientHeight),
          10
        ));
      }
    });
  };
}

const backToTop = () => {
  let scrollTop =
      document.documentElement.scrollTop || document.body.scrollTop,
    delay = 10,
    time = 200;
  if (scrollTop <= 20) {
    document.documentElement.scrollTop = 0;
    document.body.scrollTop = 0;
    return;
  }
  let step = Math.ceil(scrollTop * delay / time);
  let timer = setInterval(() => {
    scrollTop =
      document.documentElement.scrollTop || document.body.scrollTop;
    if (scrollTop - step <= 0) {
      document.documentElement.scrollTop = 0;
      document.body.scrollTop = 0;
      clearInterval(timer);
    } else {
      document.documentElement.scrollTop = scrollTop - step;
      document.body.scrollTop = scrollTop - step;
    }
  }, delay);
}

document.addEventListener("scroll", handleScoll(), false);

document.querySelector(".back-to-top").addEventListener("click", backToTop, false);

</script>

    </div>

    
      <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script>
<script>
  (() => {
    const mathjaxConfig = {
      showProcessingMessages: false, //å…³é—­jsåŠ è½½è¿‡ç¨‹ä¿¡æ¯
      messageStyle: "none", //ä¸æ˜¾ç¤ºä¿¡æ¯
      jax: ["input/TeX", "output/HTML-CSS"],
      tex2jax: {
        inlineMath: [["$", "$"], ["\\(", "\\)"]], //è¡Œå†…å…¬å¼é€‰æ‹©ç¬¦
        displayMath: [["$$", "$$"], ["\\[", "\\]"]], //æ®µå†…å…¬å¼é€‰æ‹©ç¬¦
        skipTags: ["script", "noscript", "style", "textarea", "pre", "code", "a"] //é¿å¼€æŸäº›æ ‡ç­¾
      },
      "HTML-CSS": {
        availableFonts: ["STIX", "TeX"], //å¯é€‰å­—ä½“
        showMathMenu: false //å…³é—­å³å‡»èœå•æ˜¾ç¤º
      }
    }

    let mathjaxInterval = setInterval(() => {
      if(!window.MathJax){
        return;
      }
      window.MathJax.Hub.Config(mathjaxConfig)
      window.MathJax.Hub.Queue(["Typeset", MathJax.Hub, document.getElementById('app')])

      clearInterval(mathjaxInterval)
    }, 10)    
  })()
</script>
    

    <script src="https://cdn.bootcss.com/fancybox/3.5.2/jquery.fancybox.min.js" async></script>
<script async>
  let fancyTimer = setInterval(function(){
    if(!window.$){
      return;
    }
    $(document).ready(function() {
      $(".post img").each(function () {
        if($(this).parent().get(0).tagName.toLowerCase() === "a") {
          return;
        }
        // $(this).attr("data-fancybox", "gallery"); // if you add 'data-fancybox', img will display after showed
        var element = document.createElement("a");
        $(element).attr("data-fancybox", "gallery");
        $(element).attr("href", $(this).attr("src"));
        $(this).wrap(element);
      });
      
      clearInterval(fancyTimer);
    });
  }, 10);
</script>

    
  </body>

</html>
