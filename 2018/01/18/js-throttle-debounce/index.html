<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="keywords" content="周硕的博客, 前端博客">
  <meta name="description" content="周硕的个人博客，此博客是我记录工作和学习的地方。">
  <title>JS函数节流(throttle)与函数去抖(debounce) | 周硕的博客</title>
  
  
  <link rel="shortcut icon" href="/blog/assets/favicon.ico" >
  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/tomorrow-night.min.css">
  
  <link rel="stylesheet" href="/blog/css/style.css">
</head>

<body>
<div class="Shell">
    <aside class='SideBar'>
    <section class='avatar' style="background-image: url(/blog/assets/header.png)">
        <div class='av-pic' style="background-image: url(/blog/assets/logo.jpg)">
        </div>
    </section>
    <section class='menu'>
        <div>周硕的博客</div>
        
        <ul>
          
            <a href="/blog/" class="Btn">
              <li>Home</li>
            </a>  
          
            <a href="/blog/archives/" class="Btn">
              <li>Archive</li>
            </a>  
          
            <a href="/blog/tags/" class="Btn">
              <li>Tags</li>
            </a>  
          
            <a href="/blog/about/" class="Btn">
              <li>About</li>
            </a>  
          
        </ul>
    </section>
    <section class="media">
        
            
                <a href="https://github.com/zhoushuozh/">
                    <img src="/blog/assets/github.svg" />
                </a>
            
        
            
                <a href="https://weibo.com/zhoushuozh/">
                    <img src="/blog/assets/weibo.svg" />
                </a>
            
        
    </section>
</aside>

    <div class="container">
        <div data-pager-shell>
            <div>
  <article class='ContentView'>
    <header class='PageTitle'>
        <h1>JS函数节流(throttle)与函数去抖(debounce)</h1>
    </header>

    <section>
      <h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>在浏览器 DOM 事件里面，有一些事件会随着用户的操作不间断触发。如：改变窗口大小（resize）、鼠标滚动（scroll）、鼠标移动（mousemove），如果把逻辑函数直接绑定到这些事件上，会严重影响性能，再比如把ajax请求直接绑定到keydown事件上，将在用户输入时产生频率很高的ajax请求，给服务器造成不必要的响应压力。</p>
<a id="more"></a>
<h3 id="函数节流-throttle"><a href="#函数节流-throttle" class="headerlink" title="函数节流 (throttle)"></a>函数节流 (throttle)</h3><p>每间隔某个时间去执行某函数，避免函数的过多执行，这个方式就叫函数节流。即设定一个时间间隔，当时间间隔大于或等于时，立即执行一次方法。</p>
<pre><code class="js">function throttle(fn, delta, context) {
    var safe = true;
    return function() {
        var args = arguments;
        if(safe) {
            fn.call(context, args)
            safe = false
            setTimeout(function() {
                safe = true
            }, delta)
        }
    }
}
</code></pre>
<h3 id="函数防抖-debounce"><a href="#函数防抖-debounce" class="headerlink" title="函数防抖 (debounce)"></a>函数防抖 (debounce)</h3><p>固定的时间间隔内，如果事件再次被触发，则重置时间，直到大于等于时间间隔才执行方法。</p>
<pre><code class="js">function debounce(fn, delta, context) {
    var timeoutID = null;
    return function() {
        if(timeoutID) {
        clearTimeout(timeoutID);
    }
    var args = arguments;
    timeoutID = setTimeout(function() {
            fn.apply(context, args);
        }, delta);
    }
}
</code></pre>
<h3 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h3><p>throttle：一辆定时的地铁，每五分钟出发一辆，不管你有没有上到车，只要命令下来过五分钟之后就出发。</p>
<p>debounce：就跟电梯的原理一样，只要10s之内有人来就重置时间，再过10s，直到大于等于10s之后没人进来才出发。</p>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><p>函数节流(throttle)和函数防抖(debounce)都是通过延时逻辑操作来提升性能的方法，在前端优化中是常见且重要的解决方式。可以从概念和实际应用中理解两者的区别，在需要的时候选择合适的方法处理。</p>


      

    </section>
    
      <section class='ArticleMeta'>
          <div>
            发布于&nbsp;
            <time datetime="2018-01-18T13:23:43.000Z" itemprop="datePublished">
              2018-01-18
            </time>
          </div>
          
            <div>
              tags: 
  <li class="meta-text">
  { <a href="/blog/tags/JavaScript/">JavaScript</a> }
  </li>

  <li class="meta-text">
  { <a href="/blog/tags/性能优化/">性能优化</a> }
  </li>


            </div>
          
      </section>
    
     
</article>

  <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<div id="gitalk-container"></div>
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<script type="text/javascript">
    var gitalk = new Gitalk({
        clientID: 'd50f82d1de5ab2dd34c6',
        clientSecret: '7ed79e0b3ad122582d5c8d7d5a295c1142743477',
        id: window.location.pathname,
        repo: 'comments',
        owner: 'zhoushuozh',
        admin: 'zhoushuozh'
    })
    gitalk.render('gitalk-container')
</script>

</div>

            <footer>
    <div>&copy; 2018 - 周硕 </div>
    <div>
    Powered by Hexo &nbsp; Theme by icalm
    </div>
</footer>
        </div>
    </div>
</div>
<script src="/blog/js/pager/dist/singlepager.js"></script>
<script>
var sp = new Pager('data-pager-shell')
</script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<!--<script>hljs.initHighlightingOnLoad();</script>-->
</body>
</html>
