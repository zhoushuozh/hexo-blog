<!DOCTYPE html>
<html lang="zh-CN">

  
<head>
  <meta charset="utf-8">
  <meta name="author" content="å‘¨ç¡•, zhoushuozh@gmail.com" />
  
  
  
  <title>å…³äºcookieã€sessionå’ŒHTTPç¼“å­˜ | å‘¨ç¡•çš„åšå®¢</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="HTTP,webç¼“å­˜,æ€§èƒ½ä¼˜åŒ–," />
  

  <!-- <script>
    console.log('\n%c Hexo-theme-bmw v4.0 ' + '%c ğŸ‰ https://github.com/dongyuanxin/theme-bmw ğŸ‰\n' + '\n%c View demo online ' + '%c ğŸ” https://godbmw.com/ ğŸ”  \n' , 'color: #fadfa3; background: #030307; padding:3px 0;', '', 'color: #fadfa3; background: #030307; padding:3px 0;', '');
  </script> -->

  
    <meta name="description" content="ä¸ªäººåšå®¢ï¼Œå­¦ä¹ ã€è®°å½•ã€æ€»ç»“ã€‚">
  

  

  
    <link rel="icon" href="/images/favicon.ico">
    <link rel="apple-touch-icon" href="/images/touch-icon.png">
  

  <link href="https://cdn.bootcss.com/fancybox/3.5.2/jquery.fancybox.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/base.css">
<link rel="stylesheet" href="/icon/iconfont.css">
<link rel="stylesheet" href="/css/github-markdown.css">
<link rel="stylesheet" href="/css/highlight.css">

  <script src="/js/util.js"></script>
<script src="/js/valine.min.js"></script>

  

  
    <link href="https://cdn.bootcss.com/aplayer/1.10.1/APlayer.min.css" rel="stylesheet">
    <script src="https://cdn.bootcss.com/aplayer/1.10.1/APlayer.min.js" async></script>
  

  
    <link href="https://cdn.bootcss.com/social-share.js/1.0.16/css/share.min.css" rel="stylesheet">
  
  
  <script src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js" async></script>
  
  

</head>

  <body>

    

    <div id="app">

      <div class="header-wrap">
  <header>
    <div class="site-brand">
      <div class="site-title">
        <a href="/">ZhouShuo</a>
      </div>
    </div>
    <nav class="site-navigation">
      <ul class="nav-menu">
      
        <li class="nav-item" data-path="/">
          
            <a 
              href="/"
              target="_self"
            >
              ä¸»é¡µ
            </a>
          
        </li>
      
        <li class="nav-item" data-path="/archives/">
          
            <a 
              href="/archives/"
              target="_self"
            >
              å½’æ¡£
            </a>
          
        </li>
      
        <li class="nav-item" data-path="/categories/">
          
            <a 
              href="/categories/"
              target="_self"
            >
              åˆ†ç±»
            </a>
          
        </li>
      
        <li class="nav-item" data-path="/tags/">
          
            <a 
              href="/tags/"
              target="_self"
            >
              æ ‡ç­¾
            </a>
          
        </li>
      
        <li class="nav-item" data-path="/friends/">
          
            <a 
              href="/friends/"
              target="_self"
            >
              å‹é“¾
            </a>
          
        </li>
      
        <li class="nav-item" data-path="/about/">
          
            <a 
              href="/about/"
              target="_self"
            >
              å…³äº
            </a>
          
        </li>
      
      </ul>
    </nav>
    <i class="iconfont icon-menu"></i>
  </header>
</div>

<script>
  let links = document.querySelectorAll('.nav-item');
  for(let link of links){
    let childrenLink = link.querySelector('ul');
    link.addEventListener('mouseenter', () => {
      if(childrenLink) {
        childrenLink.className = "nav-menu--dropdown active";
      }
    })
    link.addEventListener('mouseleave', () => {
      if(childrenLink) {
        childrenLink.className = "nav-menu--dropdown";
      }
    })
  }
  let rootRealPath = getRealPath(window.location.pathname, true);
  for(let link of links) {
    let linkPath = link.getAttribute("data-path");
    if(linkPath && getRealPath(linkPath, true) === rootRealPath) {
      link.className = "nav-item hover";
    }
  }

  let iconMenu = document.querySelector("i.iconfont.icon-menu"),
    iconMenuClicked = false;
  let navDOM = document.querySelector("nav.site-navigation");
  iconMenu.addEventListener("click", () => {
    iconMenuClicked 
      ? navDOM.className = "site-navigation active"
      : navDOM.className = "site-navigation";
    iconMenuClicked = !iconMenuClicked;
  })
</script>

      








<div class="container post-index">

  

<div class="post">
  <h1 class="article-title">
    <span>å…³äºcookieã€sessionå’ŒHTTPç¼“å­˜</span>
  </h1>
  <div class="article-top-meta">
    <span>
      å‘å¸ƒ : 
      2018-06-22
    </span>
    
    
  </div>

  

  <div class="article-content">
    <div class="markdown-body">
      <h3 id="Cookieçš„ä½œç”¨"><a href="#Cookieçš„ä½œç”¨" class="headerlink" title="Cookieçš„ä½œç”¨"></a>Cookieçš„ä½œç”¨</h3><p>cookieæ¯”è¾ƒå¸¸è§çš„ä½œç”¨æ˜¯ç”¨äºè¯†åˆ«ç”¨æˆ·èº«ä»½ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼šå½“ç”¨æˆ·Aå»è®¿é—®<code>a.com</code>çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ä¼šç»™Aä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„<code>id=001</code>(è¿™å°±æ˜¯cookie)ï¼Œå½“ç”¨æˆ·Aè®¿é—®<code>a.com</code>çš„å…¶ä»–ç½‘é¡µçš„æ—¶å€™ï¼Œéƒ½ä¼šå¸¦ç€é‚£ä¸ªç‹¬ä¸€æ— äºŒçš„idã€‚å½“Bç”¨æˆ·æ¥è®¿é—®<code>a.com</code>çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨å‘ç°ä»–æ²¡æœ‰ä»»ä½•æ ‡è¯†ï¼Œä¹Ÿä¼šç»™ä»–ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„<code>id=002</code>ï¼Œæ‰€ä»¥å€ŸåŠ©cookieæœåŠ¡å™¨ç«¯å°±èƒ½å¤Ÿåˆ†æ¸…æ¥šè°æ˜¯è°äº†ã€‚</p>
<h3 id="Cookieçš„ç‰¹ç‚¹"><a href="#Cookieçš„ç‰¹ç‚¹" class="headerlink" title="Cookieçš„ç‰¹ç‚¹"></a>Cookieçš„ç‰¹ç‚¹</h3><ul>
<li>æœåŠ¡å™¨é€šè¿‡ Set-Cookie å¤´ç»™å®¢æˆ·ç«¯ä¸€ä¸²å­—ç¬¦ä¸²</li>
<li>å®¢æˆ·ç«¯æ¯æ¬¡è®¿é—®ç›¸åŒåŸŸåçš„ç½‘é¡µæ—¶ï¼Œå¿…é¡»å¸¦ä¸Šè¿™æ®µå­—ç¬¦ä¸²</li>
<li>å®¢æˆ·ç«¯è¦åœ¨ä¸€æ®µæ—¶é—´å†…ä¿å­˜è¿™ä¸ªCookie</li>
<li>Cookie é»˜è®¤åœ¨ç”¨æˆ·å…³é—­é¡µé¢åå°±å¤±æ•ˆï¼Œåå°ä»£ç å¯ä»¥ä»»æ„è®¾ç½® Cookie çš„è¿‡æœŸæ—¶é—´ã€‚æ¯”å¦‚max-ageå’Œåé¢è¦è®²çš„<code>Expires</code></li>
<li>å¤§å°å¤§æ¦‚åœ¨ 4kb ä»¥å†…</li>
</ul>
<h3 id="Cookieå­˜åœ¨çš„é—®é¢˜"><a href="#Cookieå­˜åœ¨çš„é—®é¢˜" class="headerlink" title="Cookieå­˜åœ¨çš„é—®é¢˜"></a>Cookieå­˜åœ¨çš„é—®é¢˜</h3><ul>
<li><p>ç”¨æˆ·å¯ä»¥éšæ„ç¯¡æ”¹ Cookie ã€‚</p>
</li>
<li><p>Cookie çš„å­˜å‚¨å¤§å°æœ‰é™åˆ¶ï¼š 4KB å·¦å³ã€‚</p>
</li>
</ul>
<h2 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h2><h3 id="Sessionæ˜¯ä»€ä¹ˆ"><a href="#Sessionæ˜¯ä»€ä¹ˆ" class="headerlink" title="Sessionæ˜¯ä»€ä¹ˆ"></a>Sessionæ˜¯ä»€ä¹ˆ</h3><p>ç»´åŸºç™¾ç§‘çš„è§£é‡Šï¼š</p>
<blockquote>
<p>åœ¨è®¡ç®—æœºç§‘å­¦é¢†åŸŸæ¥è¯´ï¼Œå°¤å…¶æ˜¯åœ¨ç½‘ç»œé¢†åŸŸï¼Œä¼šè¯ï¼ˆsessionï¼‰æ˜¯ä¸€ç§æŒä¹…ç½‘ç»œåè®®ï¼Œåœ¨ç”¨æˆ·ï¼ˆæˆ–ç”¨æˆ·ä»£ç†ï¼‰ç«¯å’ŒæœåŠ¡å™¨ç«¯ä¹‹é—´åˆ›å»ºå…³è”ï¼Œä»è€Œèµ·åˆ°äº¤æ¢æ•°æ®åŒ…çš„ä½œç”¨æœºåˆ¶ï¼Œsessionåœ¨ç½‘ç»œåè®®ï¼ˆä¾‹å¦‚telnetæˆ–FTPï¼‰ä¸­æ˜¯éå¸¸é‡è¦çš„éƒ¨åˆ†ã€‚ </p>
</blockquote>
<p>ç®€å•æ¥è¯´ï¼Œsession æ˜¯ä¸€ç§åœ¨æœåŠ¡å™¨ç«¯ä¿å­˜æ•°æ®çš„æœºåˆ¶ã€‚æœåŠ¡å™¨é€šè¿‡è¯»å–æµè§ˆå™¨å‘é€çš„ cookie å’Œ æœåŠ¡å™¨ç«¯çš„ session æ¥äº¤æ¢æ•°æ®ã€‚ session çš„ä½œç”¨å’Œ cookie çš„ä½œç”¨å¤§è‡´ç›¸åŒã€‚æœ€å¤§çš„ä¸åŒç‚¹åœ¨äºä¸¤è€…çš„å®‰å…¨æ€§å’Œå®ç°æ–¹å¼ã€‚</p>
<h3 id="Sessionçš„å®ç°"><a href="#Sessionçš„å®ç°" class="headerlink" title="Sessionçš„å®ç°"></a>Sessionçš„å®ç°</h3><ol>
<li>äº§ç”Ÿ sessionIDï¼šsession æ˜¯åŸºäº cookie çš„ä¸€ç§æ–¹æ¡ˆï¼Œæ‰€ä»¥ï¼Œé¦–å…ˆè¦äº§ç”Ÿ cookieã€‚client ç¬¬ä¸€æ¬¡è®¿é—® serverï¼Œserver ç”Ÿæˆä¸€ä¸ªéšæœºæ•°ï¼Œå‘½åä¸º sessionIDï¼Œå¹¶å°†å…¶æ”¾åœ¨å“åº”å¤´é‡Œï¼Œä»¥ cookie çš„å½¢å¼è¿”å›ç»™ clientï¼Œclient ä»¥å¤„ç†å…¶ä»– cookie çš„æ–¹å¼å¤„ç†è¿™æ®µ cookieã€‚å¤§æ¦‚æ˜¯è¿™æ ·ï¼š<code>cookieï¼šsessionID=135165432165</code></li>
<li>ä¿å­˜ sessionIDï¼š server å°†è¦ä¿å­˜çš„æ•°æ®ä¿å­˜åœ¨ç›¸å¯¹åº”çš„ sessionID ä¹‹ä¸‹ï¼Œå†å°† sessionID ä¿å­˜åˆ°æœåŠ¡å™¨ç«¯çš„ç‰¹å®šçš„ä¿å­˜ session çš„å†…å­˜ä¸­ï¼ˆå¦‚ ä¸€ä¸ªå« session çš„å“ˆå¸Œè¡¨ï¼‰</li>
<li>ä½¿ç”¨ sessionï¼š client å†æ¬¡è®¿é—® serverï¼Œä¼šå¸¦ä¸Šé¦–æ¬¡è®¿é—®æ—¶è·å¾—çš„ å€¼ä¸º sessionID çš„cookieï¼Œserver è¯»å– cookie ä¸­çš„ sessionIDï¼Œæ ¹æ® sessionID åˆ°ä¿å­˜ session çš„å†…å­˜å¯»æ‰¾ä¸ sessionID åŒ¹é…çš„æ•°æ®ï¼Œè‹¥å¯»æ‰¾æˆåŠŸå°±å°†æ•°æ®è¿”å›ç»™ clientã€‚</li>
</ol>
<h3 id="ession-å’Œ-Cookie-çš„åŒºåˆ«"><a href="#ession-å’Œ-Cookie-çš„åŒºåˆ«" class="headerlink" title="ession å’Œ Cookie çš„åŒºåˆ«"></a>ession å’Œ Cookie çš„åŒºåˆ«</h3><ul>
<li>session åœ¨æœåŠ¡å™¨ç«¯ï¼Œcookie åœ¨å®¢æˆ·ç«¯ã€‚</li>
<li>session ç”¨æˆ·æ— æ³•æŸ¥çœ‹å’Œä¿®æ”¹ï¼Œcookie ç”¨æˆ·å¯ä»¥æŸ¥çœ‹ä¿®æ”¹ã€‚</li>
<li>session çš„å®ç°ä¾èµ–äº sessionIDï¼Œè€Œ sessionID åˆå­˜å‚¨åœ¨ cookie ä¸Šï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥è¯´ï¼šsession æ˜¯åŸºäº cookie å®ç°çš„ä¸€ç§æ•°æ®å­˜å‚¨æ–¹å¼ã€‚ </li>
</ul>
<h2 id="LocalStorage"><a href="#LocalStorage" class="headerlink" title="LocalStorage"></a>LocalStorage</h2><h3 id="LocalStorageæ˜¯ä»€ä¹ˆ"><a href="#LocalStorageæ˜¯ä»€ä¹ˆ" class="headerlink" title="LocalStorageæ˜¯ä»€ä¹ˆ"></a>LocalStorageæ˜¯ä»€ä¹ˆ</h3><p>localStorage æ˜¯ HTML5 æä¾›çš„ä¸€ä¸ª APIã€‚</p>
<p> localStorage çš„å®è´¨æ˜¯ä¸€ä¸ªhashï¼ˆå“ˆå¸Œè¡¨ï¼‰ï¼Œæ˜¯ä¸€ä¸ªå­˜åœ¨äºæµè§ˆå™¨ä¸Šçš„ hashï¼ˆå“ˆå¸Œè¡¨ï¼‰ã€‚</p>
<p> localStorage æä¾›äº†å‡ ä¸ª API æ¥æ·»åŠ ã€è¯»å–ã€åˆ é™¤ localStorageï¼š</p>
<ul>
<li><code>localStorage.setItem(key, value)</code> ï¼šå¾€ hash ä¸­æ·»åŠ  key: value çš„æ•°æ® </li>
<li><code>localStorage.getItem(key)</code>ï¼šè¯»å– hash ä¸­ key çš„å€¼ </li>
<li><code>localStorage.removeItem(key)</code>ï¼šåˆ é™¤ hash ä¸­çš„ key </li>
<li><code>localStorage.clear()</code>ï¼šæ¸…ç©ºæ•´ä¸ªlocalStorage</li>
</ul>
<h3 id="LocalStorage-å’Œ-Cookie-çš„åŒºåˆ«"><a href="#LocalStorage-å’Œ-Cookie-çš„åŒºåˆ«" class="headerlink" title="LocalStorage å’Œ Cookie çš„åŒºåˆ«"></a>LocalStorage å’Œ Cookie çš„åŒºåˆ«</h3><p>æ¯ä¸ªåŸŸå cookie çš„å¤§å°æ˜¯4Kbï¼Œæ¯ä¸ªåŸŸå localStorage çš„æœ€å¤§å­˜å‚¨é‡çš„ä¸€èˆ¬ä¸º 5MBå·¦å³ï¼ŒChrome 10MB å·¦å³ã€‚</p>
<p> cookie çš„ä½¿ç”¨è¦é€šè¿‡ HTTPï¼Œå®¢æˆ·ç«¯æ¯æ¬¡è®¿é—®ç›¸åŒåŸŸåæ—¶ä¼šå¸¦ä¸Š cookieï¼Œè€Œ localStorage ä¸ HTTP æ²¡æœ‰ä¸€æ¯›é’±å…³ç³»ã€‚ </p>
<p>localStorage ç†è®ºä¸Šæ°¸ä¹…æœ‰æ•ˆï¼Œé™¤éç”¨æˆ·æ¸…ç†ç¼“å­˜ï¼›cookieé»˜è®¤æœ‰æ•ˆæ—¶é—´æ˜¯äºŒååˆ†é’Ÿå·¦å³ï¼Œç”¨æˆ·å…³é—­é¡µé¢åå°±å¤±æ•ˆï¼Œåå°å¯ä»¥è®¾ç½® cookie çš„è¿‡æœŸæ—¶é—´ã€‚ </p>
<h2 id="sessionStorage"><a href="#sessionStorage" class="headerlink" title="sessionStorage"></a>sessionStorage</h2><p>sessionStorage çš„æ‰€æœ‰æ€§è´¨åŸºæœ¬ä¸Šä¸ localStorage ä¸€è‡´ï¼Œå”¯ä¸€çš„ä¸åŒåŒºåˆ«åœ¨äºï¼š</p>
<p>sessionStorage åœ¨ç”¨æˆ·å…³é—­é¡µé¢ï¼ˆä¼šè¯ç»“æŸï¼‰åå°±å¤±æ•ˆï¼Œè€ŒlocalStorageä¸€ç›´æœ‰æ•ˆã€‚ </p>
<h2 id="Cache-Control"><a href="#Cache-Control" class="headerlink" title="Cache-Control"></a>Cache-Control</h2><p>###Cache-Controlæ˜¯ä»€ä¹ˆ</p>
<p>Cache-Control é€šç”¨æ¶ˆæ¯å¤´è¢«ç”¨äºåœ¨http è¯·æ±‚å’Œå“åº”ä¸­é€šè¿‡æŒ‡å®šæŒ‡ä»¤æ¥å®ç°ç¼“å­˜æœºåˆ¶ã€‚ç¼“å­˜æŒ‡ä»¤æ˜¯å•å‘çš„, è¿™æ„å‘³ç€åœ¨è¯·æ±‚è®¾ç½®çš„æŒ‡ä»¤ï¼Œåœ¨å“åº”ä¸­ä¸ä¸€å®šåŒ…å«ç›¸åŒçš„æŒ‡ä»¤ã€‚ </p>
<p>Cache-Control æœ‰ 2 ç§ä½¿ç”¨æ–¹å¼ï¼š</p>
<ol>
<li>ä»¥è¯·æ±‚å¤´å½¢å¼ä½¿ç”¨ å®¢æˆ·ç«¯å¯ä»¥åœ¨ HTTP è¯·æ±‚ä¸­ä½¿ç”¨ Cache-Control æŒ‡ä»¤</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">request.setHeader(<span class="string">'Cache-Control'</span>,<span class="string">'max-age=99999999'</span>) <span class="comment">// å°†æ­¤æ¬¡è¯·æ±‚çš„èµ„æºç¼“å­˜ 99999999 ç§’</span></span><br></pre></td></tr></table></figure>
<ol>
<li>ä»¥å“åº”å¤´å½¢å¼ä½¿ç”¨ æœåŠ¡å™¨(nodeç‰ˆæœ¬)å¯ä»¥åœ¨å“åº”è¯·æ±‚æ—¶ï¼Œè®¾ç½® Cache-Control</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response.setHeader(<span class="string">'Cache-Control'</span>,<span class="string">'max-age=99999999'</span>)  <span class="comment">// å°†æ­¤æ¬¡è¯·æ±‚çš„èµ„æºç¼“å­˜ 99999999 ç§’</span></span><br></pre></td></tr></table></figure>
<h3 id="Cache-Control-çš„ä½œç”¨"><a href="#Cache-Control-çš„ä½œç”¨" class="headerlink" title="Cache-Control çš„ä½œç”¨"></a>Cache-Control çš„ä½œç”¨</h3><p>Cache-Control ä½¿ç”¨ç¼“å­˜æœºåˆ¶ï¼Œç”¨æ¥ç¼©çŸ­äºŒæ¬¡è®¿é—®çš„å“åº”æ—¶é—´ï¼Œæé«˜é¡µé¢å“åº”æ€§èƒ½ï¼Œå®ç°webæ€§èƒ½ä¼˜åŒ–ã€‚ </p>
<h2 id="Expires"><a href="#Expires" class="headerlink" title="Expires"></a>Expires</h2><p>Expires æ˜¯ä»¥å‰ç‰ˆæœ¬çš„ç¼“å­˜æ§åˆ¶ï¼Œå¦‚æœä½ è®¾ç½®äº† Cache-Controlï¼Œé‚£ä¹ˆ Expires ä¼šå¤±æ•ˆã€‚ </p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ã€‚Expires ä½¿ç”¨çš„æ˜¯æœ¬åœ°æ—¶é—´ï¼Œä¼šå—æœ¬åœ°äº‹ä»¶å½±å“ã€‚  </p>
<p>Cache-Control å’Œ Expires ï¼Œä¼˜å…ˆä½¿ç”¨ Cache-Controlã€‚</p>
<h2 id="Etag"><a href="#Etag" class="headerlink" title="Etag"></a>Etag</h2><blockquote>
<p>ETag HTTPå“åº”å¤´æ˜¯èµ„æºçš„ç‰¹å®šç‰ˆæœ¬çš„æ ‡è¯†ç¬¦ã€‚ Etag æ˜¯ HTTP çš„å†…å®¹ï¼Œé€šè¿‡åŒ¹é…æ ‡è¯†ç¬¦æ¥åˆ¤æ–­èµ„æºæ˜¯å¦éœ€è¦ä¸‹è½½ã€‚</p>
</blockquote>
<h3 id="Cache-Control-max-age-ç¼“å­˜-ä¸-ETag-çš„åŒºåˆ«"><a href="#Cache-Control-max-age-ç¼“å­˜-ä¸-ETag-çš„åŒºåˆ«" class="headerlink" title="Cache-Control: max-age ç¼“å­˜ ä¸ ETag çš„åŒºåˆ«"></a>Cache-Control: max-age ç¼“å­˜ ä¸ ETag çš„åŒºåˆ«</h3><ul>
<li>Cache-Control é€šè¿‡ max-age è®¾ç½®ç¼“å­˜çš„æœ‰æ•ˆæ—¶é—´ï¼ˆæŒç»­æ—¶é—´ï¼‰ï¼Œè¡¨ç¤ºåœ¨ n ç§’å†…ä¸è¦å†å»å‘æœåŠ¡å™¨è¦è¿™ä¸ªèµ„æºäº†ï¼Œç›´æ¥ä»å†…å­˜ç¼“å­˜é‡Œé¢è·å¾—ã€‚</li>
<li>ETagæ˜¯é€šè¿‡åŒ¹é…æ ‡è¯†ç¬¦ï¼ˆä¸€ä¸²md5å€¼ï¼‰æ¥åˆ¤æ–­èµ„æºæ˜¯å¦éœ€è¦ä¸‹è½½ï¼Œå¦‚æœåŒ¹é…ï¼ŒæœåŠ¡å™¨å°†è¿”å›ä¸å¸¦ä»»ä½•å†…å®¹çš„304æœªä¿®æ”¹çŠ¶æ€ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯ç¼“å­˜ç‰ˆæœ¬å¯ç”¨ã€‚</li>
<li>Cache-Control ä¸è®¿é—®æœåŠ¡å™¨ï¼Œæœ‰æ—¶é—´é™åˆ¶ï¼›ETag è®¿é—®æœåŠ¡å™¨ï¼Œæ— æ—¶é—´é™åˆ¶ã€‚</li>
</ul>
<h2 id="last-Modified"><a href="#last-Modified" class="headerlink" title="last-Modified"></a>last-Modified</h2><blockquote>
<p>The Last-Modified æ˜¯ä¸€ä¸ªå“åº”é¦–éƒ¨ï¼Œå…¶ä¸­åŒ…å«æºå¤´æœåŠ¡å™¨è®¤å®šçš„èµ„æºåšå‡ºä¿®æ”¹çš„æ—¥æœŸåŠæ—¶é—´ã€‚ </p>
</blockquote>
<p>last-Modified çš„ä½œç”¨åŠä½¿ç”¨æ–¹æ³•å’Œ Etag åŸºæœ¬ä¸€è‡´ã€‚</p>
<h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><h3 id="Cookie-å¦‚ä½•è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Ÿ"><a href="#Cookie-å¦‚ä½•è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Ÿ" class="headerlink" title="Cookie å¦‚ä½•è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Ÿ"></a>Cookie å¦‚ä½•è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Ÿ</h3><p>Expires æŒ‡å®šäº†ä¸€ä¸ªæ—¥æœŸ/æ—¶é—´ï¼Œ åœ¨è¿™ä¸ªæ—¥æœŸ/æ—¶é—´ä¹‹å cookie è¿‡æœŸï¼› Cache-Control:max-ageæŒ‡å®šäº†ä¸€ä¸ªç§’æ•°ï¼Œç»è¿‡æ­¤ç§’æ•°å cookie è¿‡æœŸï¼› </p>
<h3 id="å¦‚ä½•åˆ é™¤cookie"><a href="#å¦‚ä½•åˆ é™¤cookie" class="headerlink" title="å¦‚ä½•åˆ é™¤cookie"></a>å¦‚ä½•åˆ é™¤cookie</h3><p>æœåŠ¡å™¨ç«¯å¯ä»¥é€šè¿‡è®¾ç½® Expiresã€Cache-Control: max-ageå°† Cookie è®¾ç½®ä¸ºè¿‡æœŸçŠ¶æ€ å®¢æˆ·ç«¯å¯ä»¥é€šè¿‡document.cookie API åˆ é™¤ cookie ã€‚</p>
    </div>
  </div>
  
    <div class="copy-right">
      <div class="markdown-body">
        <blockquote>
        
        
          æœ¬æ–‡ä½œè€… : å‘¨ç¡• <br/>
        
        åŸæ–‡é“¾æ¥ : <a href="">https://blog.zhoushuo.me/2018/06/22/cookie-session-http-cache/</a><br>
        ç‰ˆæƒå£°æ˜ : æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
        </blockquote>
      </div>
    </div>
  
  
  
    <div class="social-share"
  style="margin-top: -2rem"
  data-wechat-qrcode-title="<p>å¾®ä¿¡æ‰«ä¸€æ‰«</p>"
  data-wechat-qrcode-helper="<p>å¾®ä¿¡å³ä¸Šè§’, æ‰«ä¸€æ‰«åˆ†äº«</p>"
   data-sites="qq, weibo, wechat, douban, facebook, twitter" 
  
>
  <span style="color: #6b7487; font-size: 1.4rem;">åˆ†äº«åˆ°: </span>
</div>
<script src="https://cdn.bootcss.com/social-share.js/1.0.16/js/social-share.min.js" async></script>
  

  

  <div class="article-footer">
    <div class="article-meta pull-left">
      <span>
        
          <i class="iconfont icon-06tags"></i>æ ‡ç­¾: 
          
          <span class="span--tag">
            <a href="/tags/HTTP/">
              #HTTP
            </a>
          </span>
          
          <span class="span--tag">
            <a href="/tags/webç¼“å­˜/">
              #webç¼“å­˜
            </a>
          </span>
          
          <span class="span--tag">
            <a href="/tags/æ€§èƒ½ä¼˜åŒ–/">
              #æ€§èƒ½ä¼˜åŒ–
            </a>
          </span>
          
        
      </span>
    </div>
    <div class="article-meta pull-right">
    </div>
  </div>
</div>


  <aside id="sidebar">
    <p id="sidebar-header"></p>
    <ol id="sidebar-toc"></ol>
  </aside>
  <script async>setTimeout(generateToc, 10);</script>


  <nav class="post-navigation">
    
      <div class="nav-pre">
        <i class="iconfont icon-prev"></i>
        ä¸Šä¸€ç¯‡:
        <a href="/2018/05/19/js-closure/" target="_self">ç†è§£JSä¸­çš„é—­åŒ…</a>
      </div>
    
    
      <div class="nav-next">
        ä¸‹ä¸€ç¯‡:
        <a href="/2018/09/07/vue-component-communication/" target="_self">Vueç»„ä»¶é—´çš„é€šä¿¡</a>
        <i class="iconfont icon-next"></i>
      </div>
    
  </nav>

   

  
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<a href="#comment" class="comment-anchor"></a>
<div id="gitalk-container" style="margin-bottom: 50px"></div>
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<script type="text/javascript">
  var gitalk = new Gitalk({
    clientID: 'd50f82d1de5ab2dd34c6',
    clientSecret: '7ed79e0b3ad122582d5c8d7d5a295c1142743477',
    id: window.location.pathname,
    repo: 'comments',
    owner: 'zhoushuozh',
    admin: 'zhoushuozh'
  })
  gitalk.render('gitalk-container')
</script>

  

   

</div>


      <footer>
  <p class="site-info">
    åšå®¢å·²è¿è¡Œ<span id="time-to-now"></span>
    <!-- <span class="my-face">(â—'â—¡'â—)ï¾‰â™¥</span> -->
    <br>
    &copy; 2019 - å‘¨ç¡•
    <br>
    Powered by <a href="https://hexo.io">Hexo</a> | Theme - <a href="https://github.com/dongyuanxin/theme-bmw">BMW</a>
    <br>
    
  </p>
</footer>



<script>
const timeToNowDOM = document.querySelector("#time-to-now");
const startTimestamp = new Date(2017, 9, 13).getTime();

const updateTimeStr = () => {
  let offset = parseInt(
      (new Date().getTime() - startTimestamp) / 1000,
      10
    ),
    day = Math.floor(offset / 86400),
    hour = Math.floor((offset % 86400) / 3600),
    minute = Math.floor(((offset % 86400) % 3600) / 60),
    second = Math.floor(((offset % 86400) % 3600) % 60);
  timeToNowDOM.innerHTML =
    day + "å¤©" + hour + "å°æ—¶" + minute + "åˆ†é’Ÿ" + second + "ç§’";
  setTimeout(updateTimeStr, 500);
}

setTimeout(updateTimeStr, 500);
</script>


      <div class="back-to-top hidden">
  <span>
    <i class="iconfont icon-60"></i><span></span>%
  </span>
</div>

<script>
const updateIconToTop = percent => {
  let dom = document.querySelector(".back-to-top span span");
  dom.innerText = percent;
  if(percent < 1) {
    document.querySelector(".back-to-top").className = "back-to-top hidden";
  } else {
    document.querySelector(".back-to-top").className = "back-to-top";
  }
}

const handleScoll = () => {
  let isRunning = false;
  return () => {
    if (isRunning) return;
    isRunning = true;
    window.requestAnimationFrame(timestamp => {
      let scrollTop =
          document.documentElement.scrollTop || document.body.scrollTop,
        scrollHeight =
          document.documentElement.scrollHeight ||
          document.body.scrollHeight,
        clientHeight =
          document.documentElement.clientHeight ||
          document.body.clientHeight;
      isRunning = false;
      if (scrollTop <= 1) {
        updateIconToTop(0);
        return;
      }
      if (scrollTop + clientHeight >= scrollHeight) {
        updateIconToTop(100);
      } else {
        updateIconToTop(parseInt(
          100 * scrollTop / (scrollHeight - clientHeight),
          10
        ));
      }
    });
  };
}

const backToTop = () => {
  let scrollTop =
      document.documentElement.scrollTop || document.body.scrollTop,
    delay = 10,
    time = 200;
  if (scrollTop <= 20) {
    document.documentElement.scrollTop = 0;
    document.body.scrollTop = 0;
    return;
  }
  let step = Math.ceil(scrollTop * delay / time);
  let timer = setInterval(() => {
    scrollTop =
      document.documentElement.scrollTop || document.body.scrollTop;
    if (scrollTop - step <= 0) {
      document.documentElement.scrollTop = 0;
      document.body.scrollTop = 0;
      clearInterval(timer);
    } else {
      document.documentElement.scrollTop = scrollTop - step;
      document.body.scrollTop = scrollTop - step;
    }
  }, delay);
}

document.addEventListener("scroll", handleScoll(), false);

document.querySelector(".back-to-top").addEventListener("click", backToTop, false);

</script>

    </div>

    
      <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script>
<script>
  (() => {
    const mathjaxConfig = {
      showProcessingMessages: false, //å…³é—­jsåŠ è½½è¿‡ç¨‹ä¿¡æ¯
      messageStyle: "none", //ä¸æ˜¾ç¤ºä¿¡æ¯
      jax: ["input/TeX", "output/HTML-CSS"],
      tex2jax: {
        inlineMath: [["$", "$"], ["\\(", "\\)"]], //è¡Œå†…å…¬å¼é€‰æ‹©ç¬¦
        displayMath: [["$$", "$$"], ["\\[", "\\]"]], //æ®µå†…å…¬å¼é€‰æ‹©ç¬¦
        skipTags: ["script", "noscript", "style", "textarea", "pre", "code", "a"] //é¿å¼€æŸäº›æ ‡ç­¾
      },
      "HTML-CSS": {
        availableFonts: ["STIX", "TeX"], //å¯é€‰å­—ä½“
        showMathMenu: false //å…³é—­å³å‡»èœå•æ˜¾ç¤º
      }
    }

    let mathjaxInterval = setInterval(() => {
      if(!window.MathJax){
        return;
      }
      window.MathJax.Hub.Config(mathjaxConfig)
      window.MathJax.Hub.Queue(["Typeset", MathJax.Hub, document.getElementById('app')])

      clearInterval(mathjaxInterval)
    }, 10)    
  })()
</script>
    

    <script src="https://cdn.bootcss.com/fancybox/3.5.2/jquery.fancybox.min.js" async></script>
<script async>
  let fancyTimer = setInterval(function(){
    if(!window.$){
      return;
    }
    $(document).ready(function() {
      $(".post img").each(function () {
        if($(this).parent().get(0).tagName.toLowerCase() === "a") {
          return;
        }
        // $(this).attr("data-fancybox", "gallery"); // if you add 'data-fancybox', img will display after showed
        var element = document.createElement("a");
        $(element).attr("data-fancybox", "gallery");
        $(element).attr("href", $(this).attr("src"));
        $(this).wrap(element);
      });
      
      clearInterval(fancyTimer);
    });
  }, 10);
</script>

    
  </body>

</html>
